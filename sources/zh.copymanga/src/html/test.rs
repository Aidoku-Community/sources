#![expect(clippy::unwrap_used)]

use super::*;
use aidoku::imports::html::Html;
use aidoku_test::aidoku_test;

#[expect(clippy::too_many_lines)]
#[aidoku_test]
fn genre_filter() {
	let filter = Html::parse(
		r##"<!DOCTYPE html><html lang="zh-hant"><head><meta charset="UTF-8"><link rel="icon" href="https://hi77-overseas.mangafuna.xyz/static/free.ico" type="image/x-icon"/><link rel="shortcut icon" href="https://hi77-overseas.mangafuna.xyz/static/free.ico" type="image/x-icon"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="description" content="拷貝漫畫 為全球華人提供高質量 中文 全本漫畫，同人志。海賊王，火影忍者，哥布林殺手，進擊的巨人，龍珠，Magi魔笛，妖精尾巴。Fate/grand order，艦隊收集 艦娘，Granblue Fantasy 碧藍幻想，東方project，偶像大師，Love Live 同人志 18禁本子 全彩 應有盡有。"/><meta itemprop="keywords" content="拷貝漫畫_海賊王,哥布林殺手,漫畫,FGO,東方,艦娘,同人志,本子,更新"><meta name="keywords" content="拷貝漫畫_海賊王,哥布林殺手,漫畫,FGO,東方,艦娘,同人志,本子,更新"><meta itemprop="page" content="題材"><link rel="dns-prefetch" href="//cdn.bootcdn.net"/><link rel="preconnect" href="//www.google-analytics.com"/><link rel="preconnect" href="//www.googletagmanager.com"/><link rel="preconnect" href="//stats.g.doubleclick.net"/><link href="https://hi77-overseas.mangafuna.xyz/static/cdn/bootstrap.4.3.1.min.css" media="none" onload="this.media='all'" rel="stylesheet"><link rel="stylesheet" type="text/css" href="https://hi77-overseas.mangafuna.xyz/static/websitefree/css/public20210219.css" media="none" onload="this.media='all'"/><script src="https://hi77-overseas.mangafuna.xyz/static/websitefree/js20190704/jquery.slim.min.js" type="text/javascript"></script><link rel="stylesheet" href="https://hi77-overseas.mangafuna.xyz/static/websitefree/css/filtrate_all20200326.css" media="none" onload="this.media='all'"><style> ins{ width: 100% !important; } .allIcon { background-image: url("https://hi77-overseas.mangafuna.xyz/static/websitefree/jpg/allIcon.png") !important; } .loadingIcon { background-image: url("https://hi77-overseas.mangafuna.xyz/static/websitefree/jpg/loading.jpg") !important; } .loadingSwiperIcon { background-image: url("https://hi77-overseas.mangafuna.xyz/static/websitefree/jpg/loading_swiper.jpg") !important; } .cartoonIcon { background-image: url("https://hi77-overseas.mangafuna.xyz/static/websitefree/jpg/play_cartoon_icon.png") !important; } </style><title> 所有分類 - 拷貝漫畫 拷贝漫画 </title></head><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-SS4LL7K6CL"></script><script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag("js", new Date()); gtag("config", "G-SS4LL7K6CL");</script><body><header style="background:rgba(12, 11, 16, 0.01);box-shadow:0px 5px 5px 0px rgba(12,11,16,0.1);min-width: 1200px !important;"><!-- 巨幕廣告頭部 --><!-- 巨幕廣告頭部結束 --><div class=" container header-log"><div class="row"><div class="col-2"><a href="/" style="display: flex;align-items: center;font-size: 24px;font-weight: 800;color:#1790E6;"><div class="log allIcon"></div><span style="margin-left:10px;">拷貝漫畫</span></a></div><div class="col-1"><div class="log-txt"><!-- 選中狀態下需要加入active --><a href="/comics">發現</a><div class="log-unboder"></div></div></div><div class="col-1"><div class="log-txt"><a href="/topic">專題</a><div class="log-unboder"></div></div></div><div class="col-1"><div class="log-txt active"><a href="/filter">題材</a><div class="log-unboder"></div></div></div><div class="col-1"><div class="log-txt"><a href="/rank">排行榜</a><div class="log-unboder"></div></div></div><div class="col-1"><div class="log-txt"><a href="/download">下載APP</a><div class="log-unboder"></div></div></div><div class="col-2" style="display: flex;align-items: center;justify-content: center;"><a style="flex-wrap: wrap;" class="btn headerUpLoad" href="/web/login?jumpto=https%3A//www.2025copy.com/web/person/uploadComic" role="button"><span>我&nbsp;要</span><span>投&nbsp;稿</span></a></div><div class="col-3"><div class="row align-items-center header-input"><div class="col-12" style="display: flex;justify-content: space-between;"><div class="header-input-input"><div><input type="text" url="/search?q=" q_type=""><div class="header-input-input-icon allIcon"><div></div></div></div></div><p><a href="/web/login?url=person/home" target="_blank">登錄</a><span>|</span><a href="/web/login?url=person/home" target="_blank">註冊</a></p></div></div></div></div></div></header><main class="content-box"><div class="container screenAll"><div class="screenAll-right"><div class="tab-content" id="myTabContent"><div class="screenAll-right-top-box"><ul class="classify-bottom nav nav-tabs"><li class="nav-item"><a class="active" href="#all" data-toggle="tab" role="tab">全部</a></li><li class="nav-item"><a href="#n0" data-toggle="tab" role="tab">A</a></li><li class="nav-item"><a href="#n1" data-toggle="tab" role="tab">B</a></li><li class="nav-item"><a href="#n2" data-toggle="tab" role="tab">C</a></li><li class="nav-item"><a href="#n3" data-toggle="tab" role="tab">D</a></li><li class="nav-item"><a href="#n4" data-toggle="tab" role="tab">E</a></li><li class="nav-item"><a href="#n5" data-toggle="tab" role="tab">F</a></li><li class="nav-item"><a href="#n6" data-toggle="tab" role="tab">G</a></li><li class="nav-item"><a href="#n7" data-toggle="tab" role="tab">H</a></li><li class="nav-item"><a href="#n8" data-toggle="tab" role="tab">I</a></li><li class="nav-item"><a href="#n9" data-toggle="tab" role="tab">J</a></li><li class="nav-item"><a href="#n10" data-toggle="tab" role="tab">K</a></li><li class="nav-item"><a href="#n11" data-toggle="tab" role="tab">L</a></li><li class="nav-item"><a href="#n12" data-toggle="tab" role="tab">M</a></li><li class="nav-item"><a href="#n13" data-toggle="tab" role="tab">N</a></li><li class="nav-item"><a href="#n14" data-toggle="tab" role="tab">O</a></li><li class="nav-item"><a href="#n15" data-toggle="tab" role="tab">P</a></li><li class="nav-item"><a href="#n16" data-toggle="tab" role="tab">Q</a></li><li class="nav-item"><a href="#n17" data-toggle="tab" role="tab">R</a></li><li class="nav-item"><a href="#n18" data-toggle="tab" role="tab">S</a></li><li class="nav-item"><a href="#n19" data-toggle="tab" role="tab">T</a></li><li class="nav-item"><a href="#n20" data-toggle="tab" role="tab">U</a></li><li class="nav-item"><a href="#n21" data-toggle="tab" role="tab">V</a></li><li class="nav-item"><a href="#n22" data-toggle="tab" role="tab">W</a></li><li class="nav-item"><a href="#n23" data-toggle="tab" role="tab">X</a></li><li class="nav-item"><a href="#n24" data-toggle="tab" role="tab">Y</a></li><li class="nav-item"><a href="#n25" data-toggle="tab" role="tab">Z</a></li><li class="nav-item"><a href="#n26" data-toggle="tab" role="tab">0-9</a></li></ul></div><div class="screenAll-clarity tab-content"><div class="tab-pane fade show active" id="all" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=aiqing" target="_blank">愛情<span>(11376)</span></a><a href="/comics?theme=huanlexiang" target="_blank">歡樂向<span>(6495)</span></a><a href="/comics?theme=maoxian" target="_blank">冒險<span>(5758)</span></a><a href="/comics?theme=qihuan" target="_blank">奇幻<span>(5341)</span></a><a href="/comics?theme=baihe" target="_blank">百合<span>(5094)</span></a><a href="/comics?theme=xiaoyuan" target="_blank">校园<span>(4529)</span></a><a href="/comics?theme=kehuan" target="_blank">科幻<span>(3672)</span></a><a href="/comics?theme=dongfang" target="_blank">東方<span>(2917)</span></a><a href="/comics?theme=danmei" target="_blank">耽美<span>(2299)</span></a><a href="/comics?theme=shenghuo" target="_blank">生活<span>(1731)</span></a><a href="/comics?theme=gedou" target="_blank">格鬥<span>(1693)</span></a><a href="/comics?theme=qingxiaoshuo" target="_blank">轻小说<span>(1554)</span></a><a href="/comics?theme=qita" target="_blank">其他<span>(1539)</span></a><a href="/comics?theme=xuanyi" target="_blank">悬疑<span>(1376)</span></a><a href="/comics?theme=teenslove" target="_blank">TL<span>(1313)</span></a><a href="/comics?theme=mengxi" target="_blank">萌系<span>(1253)</span></a><a href="/comics?theme=shengui" target="_blank">神鬼<span>(1151)</span></a><a href="/comics?theme=zhichang" target="_blank">职场<span>(1143)</span></a><a href="/comics?theme=zhiyu" target="_blank">治愈<span>(984)</span></a><a href="/comics?theme=jiecao" target="_blank">节操<span>(948)</span></a><a href="/comics?theme=sige" target="_blank">四格<span>(900)</span></a><a href="/comics?theme=changtiao" target="_blank">長條<span>(828)</span></a><a href="/comics?theme=jianniang" target="_blank">舰娘<span>(732)</span></a><a href="/comics?theme=gaoxiao" target="_blank">搞笑<span>(721)</span></a><a href="/comics?theme=jingji" target="_blank">竞技<span>(683)</span></a><a href="/comics?theme=weiniang" target="_blank">伪娘<span>(521)</span></a><a href="/comics?theme=mohuan" target="_blank">魔幻<span>(498)</span></a><a href="/comics?theme=rexue" target="_blank">热血<span>(446)</span></a><a href="/comics?theme=xingzhuanhuan" target="_blank">性转换<span>(379)</span></a><a href="/comics?theme=meishi" target="_blank">美食<span>(370)</span></a><a href="/comics?theme=lizhi" target="_blank">励志<span>(365)</span></a><a href="/comics?theme=COLOR" target="_blank">彩色<span>(364)</span></a><a href="/comics?theme=hougong" target="_blank">後宮<span>(361)</span></a><a href="/comics?theme=zhentan" target="_blank">侦探<span>(358)</span></a><a href="/comics?theme=jingsong" target="_blank">惊悚<span>(340)</span></a><a href="/comics?theme=aa" target="_blank">AA<span>(321)</span></a><a href="/comics?theme=yinyuewudao" target="_blank">音乐舞蹈<span>(316)</span></a><a href="/comics?theme=yishijie" target="_blank">异世界<span>(251)</span></a><a href="/comics?theme=zhanzheng" target="_blank">战争<span>(235)</span></a><a href="/comics?theme=lishi" target="_blank">历史<span>(234)</span></a><a href="/comics?theme=jizhan" target="_blank">机战<span>(232)</span></a><a href="/comics?theme=dushi" target="_blank">都市<span>(229)</span></a><a href="/comics?theme=chuanyue" target="_blank">穿越<span>(227)</span></a><a href="/comics?theme=comiket102" target="_blank">C102<span>(171)</span></a><a href="/comics?theme=chongsheng" target="_blank">重生<span>(170)</span></a><a href="/comics?theme=kongbu" target="_blank">恐怖<span>(142)</span></a><a href="/comics?theme=comiket103" target="_blank">C103<span>(133)</span></a><a href="/comics?theme=shengcun" target="_blank">生存<span>(130)</span></a><a href="/comics?theme=comiket100" target="_blank">C100<span>(121)</span></a><a href="/comics?theme=comiket104" target="_blank">C104<span>(120)</span></a><a href="/comics?theme=comiket101" target="_blank">C101<span>(113)</span></a><a href="/comics?theme=comiket99" target="_blank">C99<span>(108)</span></a><a href="/comics?theme=comiket97" target="_blank">C97<span>(90)</span></a><a href="/comics?theme=wuxia" target="_blank">武侠<span>(83)</span></a><a href="/comics?theme=zhaixi" target="_blank">宅系<span>(78)</span></a><a href="/comics?theme=comiket96" target="_blank">C96<span>(77)</span></a><a href="/comics?theme=comiket105" target="_blank">C105<span>(45)</span></a><a href="/comics?theme=C98" target="_blank">C98<span>(42)</span></a><a href="/comics?theme=comiket95" target="_blank">C95<span>(37)</span></a><a href="/comics?theme=zhuansheng" target="_blank">转生<span>(33)</span></a><a href="/comics?theme=fate" target="_blank">FATE<span>(20)</span></a><a href="/comics?theme=Uncensored" target="_blank">無修正<span>(9)</span></a><a href="/comics?theme=xianxia" target="_blank">仙侠<span>(4)</span></a><a href="/comics?theme=loveLive" target="_blank">LoveLive<span>(3)</span></a><a href="/comics?theme=zazhifuzengxiezhenji" target="_blank">雜誌附贈寫真集<span>(1)</span></a><a disabled>玄幻<span>(0)</span></a><a disabled>異能<span>(0)</span></a><a disabled>遊戲<span>(0)</span></a><a disabled>真人<span>(0)</span></a></div></div><div class="tab-pane fade" id="n0" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=aiqing" target="_blank">愛情<span>(11376)</span></a><a href="/comics?theme=aa" target="_blank">AA<span>(321)</span></a><a href="/comics?theme=Uncensored" target="_blank">無修正<span>(9)</span></a></div></div><div class="tab-pane fade" id="n1" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=baihe" target="_blank">百合<span>(5094)</span></a></div></div><div class="tab-pane fade" id="n2" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=changtiao" target="_blank">長條<span>(828)</span></a><a href="/comics?theme=COLOR" target="_blank">彩色<span>(364)</span></a><a href="/comics?theme=chuanyue" target="_blank">穿越<span>(227)</span></a><a href="/comics?theme=comiket102" target="_blank">C102<span>(171)</span></a><a href="/comics?theme=chongsheng" target="_blank">重生<span>(170)</span></a><a href="/comics?theme=comiket103" target="_blank">C103<span>(133)</span></a><a href="/comics?theme=comiket100" target="_blank">C100<span>(121)</span></a><a href="/comics?theme=comiket104" target="_blank">C104<span>(120)</span></a><a href="/comics?theme=comiket101" target="_blank">C101<span>(113)</span></a><a href="/comics?theme=comiket99" target="_blank">C99<span>(108)</span></a><a href="/comics?theme=comiket97" target="_blank">C97<span>(90)</span></a><a href="/comics?theme=comiket96" target="_blank">C96<span>(77)</span></a><a href="/comics?theme=comiket105" target="_blank">C105<span>(45)</span></a><a href="/comics?theme=C98" target="_blank">C98<span>(42)</span></a><a href="/comics?theme=comiket95" target="_blank">C95<span>(37)</span></a></div></div><div class="tab-pane fade" id="n3" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=dongfang" target="_blank">東方<span>(2917)</span></a><a href="/comics?theme=danmei" target="_blank">耽美<span>(2299)</span></a><a href="/comics?theme=dushi" target="_blank">都市<span>(229)</span></a></div></div><div class="tab-pane fade" id="n4" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n5" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=fate" target="_blank">FATE<span>(20)</span></a></div></div><div class="tab-pane fade" id="n6" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=gedou" target="_blank">格鬥<span>(1693)</span></a><a href="/comics?theme=gaoxiao" target="_blank">搞笑<span>(721)</span></a></div></div><div class="tab-pane fade" id="n7" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=huanlexiang" target="_blank">歡樂向<span>(6495)</span></a><a href="/comics?theme=hougong" target="_blank">後宮<span>(361)</span></a></div></div><div class="tab-pane fade" id="n8" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n9" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=jiecao" target="_blank">节操<span>(948)</span></a><a href="/comics?theme=jianniang" target="_blank">舰娘<span>(732)</span></a><a href="/comics?theme=jingji" target="_blank">竞技<span>(683)</span></a><a href="/comics?theme=jingsong" target="_blank">惊悚<span>(340)</span></a><a href="/comics?theme=jizhan" target="_blank">机战<span>(232)</span></a></div></div><div class="tab-pane fade" id="n10" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=kehuan" target="_blank">科幻<span>(3672)</span></a><a href="/comics?theme=kongbu" target="_blank">恐怖<span>(142)</span></a></div></div><div class="tab-pane fade" id="n11" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=lizhi" target="_blank">励志<span>(365)</span></a><a href="/comics?theme=lishi" target="_blank">历史<span>(234)</span></a><a href="/comics?theme=loveLive" target="_blank">LoveLive<span>(3)</span></a></div></div><div class="tab-pane fade" id="n12" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=maoxian" target="_blank">冒險<span>(5758)</span></a><a href="/comics?theme=mengxi" target="_blank">萌系<span>(1253)</span></a><a href="/comics?theme=mohuan" target="_blank">魔幻<span>(498)</span></a><a href="/comics?theme=meishi" target="_blank">美食<span>(370)</span></a></div></div><div class="tab-pane fade" id="n13" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n14" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n15" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n16" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=qihuan" target="_blank">奇幻<span>(5341)</span></a><a href="/comics?theme=qingxiaoshuo" target="_blank">轻小说<span>(1554)</span></a><a href="/comics?theme=qita" target="_blank">其他<span>(1539)</span></a></div></div><div class="tab-pane fade" id="n17" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=rexue" target="_blank">热血<span>(446)</span></a></div></div><div class="tab-pane fade" id="n18" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=shenghuo" target="_blank">生活<span>(1731)</span></a><a href="/comics?theme=shengui" target="_blank">神鬼<span>(1151)</span></a><a href="/comics?theme=sige" target="_blank">四格<span>(900)</span></a><a href="/comics?theme=shengcun" target="_blank">生存<span>(130)</span></a></div></div><div class="tab-pane fade" id="n19" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=teenslove" target="_blank">TL<span>(1313)</span></a></div></div><div class="tab-pane fade" id="n20" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n21" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div><div class="tab-pane fade" id="n22" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=weiniang" target="_blank">伪娘<span>(521)</span></a><a href="/comics?theme=wuxia" target="_blank">武侠<span>(83)</span></a></div></div><div class="tab-pane fade" id="n23" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=xiaoyuan" target="_blank">校园<span>(4529)</span></a><a href="/comics?theme=xuanyi" target="_blank">悬疑<span>(1376)</span></a><a href="/comics?theme=xingzhuanhuan" target="_blank">性转换<span>(379)</span></a><a href="/comics?theme=xianxia" target="_blank">仙侠<span>(4)</span></a><a disabled>玄幻<span>(0)</span></a></div></div><div class="tab-pane fade" id="n24" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=yinyuewudao" target="_blank">音乐舞蹈<span>(316)</span></a><a href="/comics?theme=yishijie" target="_blank">异世界<span>(251)</span></a><a disabled>異能<span>(0)</span></a><a disabled>遊戲<span>(0)</span></a></div></div><div class="tab-pane fade" id="n25" role="tabpanel"><div class="screenAll-clarity-all"><a href="/comics?theme=zhichang" target="_blank">职场<span>(1143)</span></a><a href="/comics?theme=zhiyu" target="_blank">治愈<span>(984)</span></a><a href="/comics?theme=zhentan" target="_blank">侦探<span>(358)</span></a><a href="/comics?theme=zhanzheng" target="_blank">战争<span>(235)</span></a><a href="/comics?theme=zhaixi" target="_blank">宅系<span>(78)</span></a><a href="/comics?theme=zhuansheng" target="_blank">转生<span>(33)</span></a><a href="/comics?theme=zazhifuzengxiezhenji" target="_blank">雜誌附贈寫真集<span>(1)</span></a><a disabled>真人<span>(0)</span></a></div></div><div class="tab-pane fade" id="n26" role="tabpanel"><div class="screenAll-clarity-all"><p class="error">喲！抱歉，該條件下暫無內容可瀏覽。小站會繼續努力的，請繼續支持本站喲。</p></div></div></div></div></div></div></main><footer class="container-fluid footer"><div class="row align-items-center"><div class="col"><p style="font-weight: 800;">Copyright 拷貝漫畫 &copy;2018-至今</p></div></div></footer></body><script src="https://hi77-overseas.mangafuna.xyz/static/cdn/lazysizes.5.3.2.min.js" type="text/javascript"></script><script async src="https://hi77-overseas.mangafuna.xyz/static/cdn/bootstrap.4.3.1.min.js" type="text/javascript"></script><script src="https://hi77-overseas.mangafuna.xyz/static/websitefree/js20190704/public20220814.js" type="text/javascript"></script><script async src="https://hi77-overseas.mangafuna.xyz/static/websitefree/js20190704/http_request.js" type="text/javascript"></script><script async src="https://hi77-overseas.mangafuna.xyz/static/websitefree/js20190704/seek_util202103241830.js" type="text/javascript"></script><script src="https://hi77-overseas.mangafuna.xyz/static/websitefree/js20190704/filtrate_all.js" type="text/javascript"></script><script defer type="text/javascript"> $(".loginOut").click(function () { var token = ""; var strCookie = document.cookie; //將多cookie切割爲多個名/值對 var arrCookie = strCookie.split("; "); for (var i = 0; i < arrCookie.length; i++) { var arr = arrCookie[i].split("="); if ("token" == arr[0]) { token = arr[1]; break; } } request({ type: "POST", timeout: 10000, // 超時時間 10 秒 headers: { "Authorization": "Token " + token }, url: API_URL + "/api/v1/logout", success: function (res) { window.location.reload(true); }, error: function (err) { document.cookie = "name;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "token;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "uuid;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "avatar;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "create;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "vip;expires=" + new Date(0).toUTCString() + ";domain=" + _host; document.cookie = "email;expires=" + new Date(0).toUTCString() + ";domain=" + _host; } }); }); function setWebp() { var expires = new Date(); var expiresDate = new Date(expires.setTime(expires.getTime() + 9999999 * 60 * 60 * 1000)); let img = new Image(); let dataUrl = "data:image/webp;base64,UklGRjwAAABXRUJQVlA4IDAAAADwAQCdASoFAAUAAUAmJaACdLoB+AAETAAA/u9RL/5SrwWN0ef/hTXwpr4U1/wgQAA="; img.src = dataUrl; img.onload = function () { document.cookie = `webp=1;path=/;expires=${expiresDate}`; }; img.onerror = function () { document.cookie = `webp=0;path=/;expires=${expiresDate}`; }; } setWebp(); ((function () { var callbacks = [], timeLimit = 50, open = false; setInterval(loop, 1); return { addListener: function (fn) { callbacks.push(fn); }, cancleListenr: function (fn) { callbacks = callbacks.filter(function (v) { return v !== fn; }); } }; function loop() { var startTime = new Date(); debugger; if (new Date() - startTime > timeLimit) { if (!open) { callbacks.forEach(function (fn) { fn.call(null); }); } open = true; aboutBlank(); } else { open = false; } } })()).addListener(function () { aboutBlank(); }); function aboutBlank() { let a = document.createElement('a'); a.href = "about:blank"; a.click(); }</script></html>"##,
	)
	.unwrap()
	.filter()
	.unwrap();
	assert_eq!(
		filter.options,
		[
			"全部",
			"愛情",
			"歡樂向",
			"冒險",
			"奇幻",
			"百合",
			"校园",
			"科幻",
			"東方",
			"耽美",
			"生活",
			"格鬥",
			"轻小说",
			"其他",
			"悬疑",
			"TL",
			"萌系",
			"神鬼",
			"职场",
			"治愈",
			"节操",
			"四格",
			"長條",
			"舰娘",
			"搞笑",
			"竞技",
			"伪娘",
			"魔幻",
			"热血",
			"性转换",
			"美食",
			"励志",
			"彩色",
			"後宮",
			"侦探",
			"惊悚",
			"AA",
			"音乐舞蹈",
			"异世界",
			"战争",
			"历史",
			"机战",
			"都市",
			"穿越",
			"C102",
			"重生",
			"恐怖",
			"C103",
			"生存",
			"C100",
			"C104",
			"C101",
			"C99",
			"C97",
			"武侠",
			"宅系",
			"C96",
			"C105",
			"C98",
			"C95",
			"转生",
			"FATE",
			"無修正",
			"仙侠",
			"LoveLive",
			"雜誌附贈寫真集"
		]
	);
	assert_eq!(
		filter.ids.unwrap(),
		[
			"",
			"aiqing",
			"huanlexiang",
			"maoxian",
			"qihuan",
			"baihe",
			"xiaoyuan",
			"kehuan",
			"dongfang",
			"danmei",
			"shenghuo",
			"gedou",
			"qingxiaoshuo",
			"qita",
			"xuanyi",
			"teenslove",
			"mengxi",
			"shengui",
			"zhichang",
			"zhiyu",
			"jiecao",
			"sige",
			"changtiao",
			"jianniang",
			"gaoxiao",
			"jingji",
			"weiniang",
			"mohuan",
			"rexue",
			"xingzhuanhuan",
			"meishi",
			"lizhi",
			"COLOR",
			"hougong",
			"zhentan",
			"jingsong",
			"aa",
			"yinyuewudao",
			"yishijie",
			"zhanzheng",
			"lishi",
			"jizhan",
			"dushi",
			"chuanyue",
			"comiket102",
			"chongsheng",
			"kongbu",
			"comiket103",
			"shengcun",
			"comiket100",
			"comiket104",
			"comiket101",
			"comiket99",
			"comiket97",
			"wuxia",
			"zhaixi",
			"comiket96",
			"comiket105",
			"C98",
			"comiket95",
			"zhuansheng",
			"fate",
			"Uncensored",
			"xianxia",
			"loveLive",
			"zazhifuzengxiezhenji"
		]
	);
}
